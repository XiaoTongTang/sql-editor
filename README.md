# sql-editor

一个旨在解决SQL INSERT和UPDATE语句编写起来不方便的SQL可视化编辑工具

## 开发计划

### 环境与性能优化

1. Vscode切换标签页无需重启整个vue spa应用
2. 巨型表格性能优化，虚拟滚动等
3. 按需引入element-plus组件，加快加载速度

### 编辑能力

#### 基础编辑能力

1. 编辑器基本能力——撤回功能
2. plain sql解析功能（用于应对“函数”，select语句之类的我无法提供可视化编辑能力的场景，我也要支持我的表格中可以输入此类值并构建出sql语句）
3. 针对update语句的基础编辑支持（可视化表格编辑，加列删列加行删行等）
4. 新建insert语句与删除已有insert语句（此前做得是同一条insert语句内，多个value的删除，现在做得则是语句级别删除新增）
5. insert语句表名编辑
6. 同列名的多条insert语句的合并功能（多条column部分相同的insert语句合并为同一条insert）
7. 超长字段值编辑能力（有时候某些字段内部会存储json这类超长字段，我大概会在双击此类字段时，弹出一个新的弹窗，用于编辑这个超长字段值）（这个我觉得很适合开一个新的vscode panel，这样可以直接深度利用vscode其他插件的能力而不是我自己实现格式化）
8. 搜索给定值功能（搜索到了以后还要跳转过去，并高亮显示，这个可以基于json path表达式逐一搜索语法树实现）
9. 列名筛选功能

#### 特色编辑能力

1. 联动编辑能力，比如两个表之间有外键关联，那么在编辑一个表的行时，另一个表的相关行也会被联动编辑
2. 已有insert语句 转换为update语句，select结果集转换为insert语句，或update语句。总之就是截取某个sql或结果集的一部分，一键转换为另一条新sql
3. SQL组编辑能力（一次新建不是再新建单条sql而是新建一两句有联动的sql）

### 元数据能力

1. 数据库驱动接入，支持select出随便几行数据然后勾选这些行，就能生成一条insert语句或update语句
2. 楚基的建议：数据表元数据管理，这样添加新行，新列的时候就不是自己手工输入列名与列的类型，而是下拉列表这样选择，甚至ai辅助生成
3. 基于元数据的sql正确性校验能力（校验字段类型是否正确，表名是否写对，列名是否写对，等等）

## 开发方向？

实现方便灵活的编辑能力，从元数据获取，到编辑，到格式化输出，到sql正确性校验，全流程地保障能交付出一条“可以放心落地执行”的sql语句
